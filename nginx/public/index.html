<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CO₂回収診断ナビ</title>
  <style>
    body { 
      font-family: sans-serif; 
      margin: 0; 
      padding: 20px; 
      background-color: #f5f5f5;
    }
    
    .container {
      display: flex;
      max-width: 1200px;
      margin: 0 auto;
      gap: 30px;
      min-height: 100vh;
    }
    
    .form-section {
      flex: 1;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .result-section {
      flex: 1;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    h1 { 
      color: #00796B; 
      text-align: center;
      margin-bottom: 30px;
    }
    
    label { 
      display: block; 
      margin: 15px 0 5px 0;
      font-weight: bold;
      color: #333;
    }
    
    select, input[type="text"], input[type="number"] { 
      width: 100%; 
      padding: 12px; 
      margin-top: 4px; 
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 14px;
    }
    
    select:focus, input:focus {
      outline: none;
      border-color: #00796B;
      box-shadow: 0 0 5px rgba(0,119,107,0.3);
    }
    
    button { 
      margin-top: 20px; 
      padding: 15px 30px; 
      background-color: #00796B; 
      color: white; 
      border: none; 
      cursor: pointer; 
      border-radius: 5px;
      font-size: 16px;
      font-weight: bold;
      width: 100%;
    }
    
    button:hover { 
      background-color: #004D40; 
    }
    
    .print-btn {
      background-color: #666;
      margin-top: 10px;
    }
    
    .print-btn:hover {
      background-color: #444;
    }
    
    #resultArea { 
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    
    #resultArea h2 {
      color: #00796B;
      margin-top: 0;
      grid-column: 1 / -1;
    }
    
    #resultArea h3 {
      color: white;
      margin: -15px -15px 10px -15px;
      padding: 8px 15px;
      background: #00796B;
      border-radius: 5px 5px 0 0;
      font-size: 14px;
      font-weight: bold;
    }
    
    #resultArea dl {
      margin: 0;
      padding: 0;
    }
    
    #resultArea dt {
      font-weight: bold;
      color: #333;
      margin-top: 8px;
      margin-bottom: 2px;
    }
    
    #resultArea dd {
      margin: 0 0 8px 0;
      line-height: 1.6;
      color: #666;
    }
    
    #resultArea dt:first-child {
      margin-top: 0;
    }
    
    .result-item {
      background: white;
      padding: 15px;
      border-radius: 5px;
      border: 1px solid #e0e0e0;
    }
    
    .result-item:last-child ,.result-item.one{
      grid-column: 1 / -1;
    }
    
    .result-item-flex {
      display: flex;
      gap: 20px;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
    }
    .eq {
      font-size: 3em;
      font-weight: bold;
      margin: 0;
    }

    .result-item-flex dl {
      margin: 0;
    }

    .highlight-value {
      font-size: 2em;
      font-weight: bold;
      color: #00796B;
      background: #E0F7FA;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
    }
    
    .possibility-high {
      background: #e8f5e8;
      border-left: 5px solid #4caf50;
    }
    
    .possibility-medium {
      background: #fff3e0;
      border-left: 5px solid #ff9800;
    }
    
    .possibility-low {
      background: #ffebee;
      border-left: 5px solid #f44336;
    }
    .note {
      font-size: 12px;
      color: #ed4444;
      margin-top: 10px;
      grid-column: 1 / -1;
    }
    
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
      
      .form-section, .result-section {
        margin-bottom: 20px;
      }
    }
    
    @media print {
      body { 
        background: white; 
        margin: 0; 
        padding: 0; 
      }
      
      .container {
        display: block;
        max-width: none;
      }
      
      .form-section {
        display: none;
      }
      
      .result-section {
        box-shadow: none;
        border: 1px solid #000;
      }
      
      button { 
        display: none; 
      }
      
      h1 { 
        color: black; 
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="form-section">
      <h1>CO₂回収診断ナビ</h1>
      <div>
        <label>カルテNo.記入<input type="text" id="industry"></label>
        
        <label>Q1：ボイラの種類
          <select id="boilerType">
            <option value="">選択してください</option>
            <option value="貫流">貫流ボイラ</option>
            <option value="その他">その他</option>
          </select>
        </label>
        
        <label>Q2：ボイラの主な燃料
          <select id="fuelType">
            <option value="">選択してください</option>
            <option value="重油">重油</option>
            <option value="灯油">灯油</option>
            <option value="LNG・都市ガス">LNG・都市ガス</option>
            <option value="LPG">LPG</option>
            <option value="石炭">石炭</option>
            <option value="バイオマス">バイオマス</option>
          </select>
        </label>
        
        <label>Q3：ボイラ台数
          <select id="boilerCount">
            <option value="2">1～3台</option>
            <option value="5">4～10台</option>
            <option value="11">11台以上</option>
          </select>
        </label>
        
        <label>Q4：ボイラサイズ
          <select id="boilerSize">
            <option value="551">小型（～1t/h程度）</option>
            <option value="2203">中型（1～5t/h程度）</option>
            <option value="5507">大型（5t/h以上）</option>
          </select>
        </label>
        
        <label>Q5： ボイラの使用工程
          <select id="boilerUsecase">
            <option value="空調・暖房用">空調・暖房用</option>
            <option value="製造プロセス用（蒸気工程など）">製造プロセス用（蒸気工程など）</option>
          </select>
        </label>
        
        <label>Q6：稼働率：
          <select id="operationRate">
            <option value="0.58">90%以上</option>
            <option value="0.40">50～89%</option>
            <option value="0.23">49%以下</option>
          </select>
        </label>
        
        <button onclick="calculate()">診断する</button>
        <button class="print-btn" onclick="window.print()">印刷する</button>
      </div>
    </div>
    
    <div class="result-section">
      <h2>診断結果</h2>
      <div id="resultArea">
        <p>左側のフォームに入力して「診断する」ボタンを押してください。</p>
      </div>
    </div>
  </div>

  <script>
    function calculate() {
      const industry = document.getElementById('industry').value;
      const boilerType = document.getElementById('boilerType').value;
      const fuelType = document.getElementById('fuelType').value;
      const boilerCount = parseInt(document.getElementById('boilerCount').value);
      const boilerUsecase = document.getElementById('boilerUsecase').value;
      const boilerSize = parseInt(document.getElementById('boilerSize').value);
      const operationRate = parseFloat(document.getElementById('operationRate').value);

      if (!boilerType || !fuelType) {
        alert('ボイラの種類と燃料を選択してください。');
        return;
      }

      // ボイラの種類と燃料による係数を取得
      const typeFactors = {
        "貫流": {
          "重油": 10,
          "灯油": 10,
          "LNG・都市ガス": 100,
          "LPG": 100,
          "石炭": 10,
          "バイオマス": 10
        },
        "その他": {
          "重油": 1,
          "灯油": 1,
          "LNG・都市ガス": 10,
          "LPG": 10,
          "石炭": 1,
          "バイオマス": 1
        }
      };

      const typeFactor = typeFactors[boilerType][fuelType];
      
      // 可能性の判定
      let possibility = "";
      let possibilityClass = "";
      if (typeFactor === 1) {
        possibility = "別途ご相談ください";
        possibilityClass = "possibility-low";
      } else if (typeFactor === 10) {
        possibility = "可能性がある";
        possibilityClass = "possibility-medium";
      } else if (typeFactor === 100) {
        possibility = "とても可能性がある";
        possibilityClass = "possibility-high";
      }

      // 年間CO₂排出量目安の計算
      const emission = boilerCount * boilerSize * operationRate;
      
      // 年間回収可能量目安の計算（80%回収できる前提）
      const recovery = emission * 0.8;
      
      // 年間削減・創出価値の計算（CO2販売金額）
      const value = recovery * 30000;

      document.getElementById('resultArea').innerHTML = `
        <div class="result-item one ${possibilityClass}">
          <h3>可能性評価</h3>
          <dl>
            <dt>評価</dt>
            <dd>${possibility}</dd>
          </dl>
        </div>
          
        <div class="result-item">
          <h3>基本情報</h3>
          <dl>
            <dt>カルテNo.</dt>
            <dd>${industry}</dd>
            <dt>ボイラの種類</dt>
            <dd>${boilerType}</dd>
            <dt>燃料</dt>
            <dd>${fuelType}</dd>
          </dl>
        </div>
        
        <div class="result-item">
          <h3>計算係数</h3>
          <dl>
            <dt>ボイラ台数係数</dt>
            <dd>${boilerCount}台</dd>
            <dt>ボイラサイズ係数</dt>
            <dd>${boilerSize} CO₂-t/年</dd>
            <dt>稼働率補正</dt>
            <dd>${(operationRate * 100).toFixed(0)}%</dd>
          </dl>
        </div>
        
        <div class="result-item">
          <h3>CO₂排出量・回収可能量 年間目安</h3>
          <dl>
            <dt>排出量</dt>
            <dd>${Math.round(emission)} t/年</dd>
          </dl>
          <dl>
            <dt>回収量</dt>
            <dd>${Math.round(recovery)} t/年</dd>
          </dl>
        </div>
       
        
        <div class="result-item">
          <h3>ボイラの使用工程</h3>
          <dl>
            <dt>使用工程</dt>
            <dd>${boilerUsecase}</dd>
          </dl>
        </div>
        
        <div class="result-item one">
          <h3>年間削減・創出価値（排出削減・排出権価値）</h3>
          <div class="result-item-flex">
            <dl>
              <dt>CO₂削減量</dt>
              <dd><span class="highlight-value">${Math.round(recovery)}</span> t/年</dd>
            </dl>
            <p class="eq">&#8660;</p>
            <dl>
              <dt>CO₂販売金額</dt>
              <dd><span class="highlight-value">${(Math.round(value/10000)).toLocaleString()}</span> 万円/年</dd>
            </dl>
          </div>
        </div>
        <p class="note">※掲載の数値は簡易的なシミュレーションで実際と異なる場合がございます。<br>※詳しくはスタッフにお問い合わせください。</p>
      `;
    }
  </script>
</body>
</html>
